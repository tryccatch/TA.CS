# [第二课 运算符和流程控制](../../../README.md#第二课-运算符和流程控制)

## [一.表达式](../../../README.md#第二课-运算符和流程控制)

C#中包含了许多操作变量的运算符，运算符就是参与运算的符号，如数学中的加减乘除。把变量或常量（都称为操作数）与运算符结合起来，就可以创建表达式。表达式是计算的基本语句。

表达式的求值顺序是由左至右。

## [二.运算符](../../../README.md#第二课-运算符和流程控制)

运算符大致分为3类：

* 一元运算符，只有一个操作数
* 二元运算符，两个操作数
* 三元运算符，三个操作数

### 数学运算符

operator|类别|示例表达式|结果
:--:|:--:|:--:|:--
+|二元|z = x + y|z的值是x与y的和
-|二元|z = x - y|z的值是从x减去y的所得的值
*|二元|z = x * y|z的值是x与y的乘积
/|二元|z = x / y|z是x除以y所得的值
%|二元|z = x % y|z是x除以y所得的余数
+|一元|y = +x|y的值等于x的值
-|一元|y = -x|y的值等于x的值乘以-1
++|一元|y = ++x|y的值是x+1，x递增1
--|一元|y = --x|y的值是x-1，x递减1
++|一元|y = x++ |y的值是x，x递增1
--|一元|y = x-- |y的值是x，x递减1

### ++, --运算符的特殊性

举例说明：

```cs
int a = 1;
++a;   <=>   a = a + 1   <=>   a += 1
--a;   <=>   a = a – 1   <=>   a -= 1
```

a--和a++同上。

Tips:++a 和 a++的区别: 

* ++a; 先自加再执执行整条语句 
* a++; 先执行整条语句再自加

注意事项：

* 在大多数编程语言中，如果两个int类型的数相除，结果还是int类型，会丢失小数部分。如果想要保留小数部分，需要手动将int类型转为float或double类型以保留小数。
  不同数据类型之间的运算时，低精度的会自动转为高精度的数据类型。

* 加号还有另一个功能，就是作为连接运算符，将两个字符串连接起来，只有加号能作为连接运算符

### 进制

十进制：十进制的基数为10，数码由0-9组成，计数规律逢十进一
二进制：它由两个数码0，1组成，二进制数运算规律是逢二进一
十六进制：由十六个数码：数字0～9加上字母A-F组成（它们分别表示十进制10～15），十六进制数运算规律是逢十六进一；添加前缀0x以表示十六进制数

进制

* 十进制
逢十进一，用10个不同的符号来表示(`0~9`)
* 二进制
逢二进一，用2个不同的符号来表示(`0、1`)
* 八进制
逢八进一，用8个不同的符号来表示(`0~7`)
* 十六进制
逢十六进一，用16个不同的符号来表示(`0~9`，`A~F`)
* N进制
逢N进一，用N个不同的符号来表示(`0~N-1`)

十进制|二进制|八进制|十六进制
:--:|:--:|:--:|:--:
0|0000 0000|0|0
1|0000 0001|1|1
2|0000 0010|2|2
3|0000 0011|3|3
4|0000 0100|4|4
5|0000 0101|5|5
6|0000 0110|6|6
7|0000 0111|7|7
8|0000 1000|10|8
9|0000 1001|11|9
10|0000 1010|12|A
11|0000 1011|13|B
12|0000 1100|14|C
13|0000 1101|15|D
14|0000 1110|16|E
15|0000 1111|17|F
16|0001 0000|20|10

### 位运算符（二进制运算符）

符号|描述
:--:|--
`&(按位与)`|同为1则为1，反之为0
`\|(按位或)`|有一个为1则为1，反之为0
`~(按位取反)`|取反，0变1,1变0(只有一个操作的参数)
`^(按位异或)`|相同为0，不同为1
`<<(左移)`|所有位向左移动，右边空出来的补0，该运算相当于操作数乘以2的N次方
`>>(右移)`|所有位向右移动，左边空出来的补0，该运算相当于操作数除以2的N次方

例子：
假设如果int类型 A = 60，且 B = 13，现在以二进制格式表示：

```c
A = 0011 1100   //左边还有24位全为0
B = 0000 1101

A & B = 0000 1100   //同为1则为1，反之为0
A | B = 0011 1101   //有一个为1则为1，反之为0
A ^ B = 0011 0001   //相同为0，不同为1
~A  = 1100 0011     //按位取反
A << 2 = 1111 0000  //左移n位就是乘以2的n次方
A >> 2 = 0000 1111  //右移n位就是除以2的n次方
```

PS:如果移动最后理论上得出的值，超过了该类型能表达的值，此时对高位或低位进行补0或补1，根据语言和编辑系统不同而有差别

### 赋值运算符

符号|描述
:--:|:--
`=`(赋值运算符)|给变量赋值
`+=`|A+=B等同于：A=A+B
`-=`|A-=B等同于：A=A-B
`*=`|A*=B等同于：A=A*B
`/=`|A/=B等同于：A=A/B
`%=`|A%=B等同于：A=A%B
`&=`|A&=B等同于：A=A&B
`<<=`|A<<=B等同于：A=A<<B

### 逻辑运算符

假设有两个条件A，B

符号|描述
--|--
`&&`(逻辑与运算符)|仅当A为真，B也为真时，整个表达式为真
`\|\|`(逻辑或运算符)|当A和B其中一个为真时，整个表达式为真
`!`(逻辑非运算符)|例:`!A`,仅当A为假时，`!A`为真

### 关系运算符

假设有A，B两个变量

符号|描述
:--:|--
`==`|当A和B相等时为真
`!=`|当A和B不等时为真
`>`|当A大于B时为真
`<`|当A小于B时为真
`>=`|当A大于或等于B时为真
`<=`|当A小于或等于B时为真

### 三元运算符   `?:`

条件表达式：
    `变量A = 条件 ? 条件成立的结果 : 条件不成立的结果`

### 运算符优先级

类别|运算符|结合性
--|:--:|--
后缀|`() [] -> . ++ - -`|从左到右
一元|`+ - ! ~ ++ - - (type)* & sizeof`|从右到左
乘除|`* / %`|从左到右
加减|`+ -`|从左到右
移位|`<< >>`|从左到右
关系|`< <= => >`|从左到右
相等|`== !=`|从左到右
位与AND|`&`|从左到右
位异或XOR|`^`|从左到右
位或OR|`\|`|从左到右
逻辑与AND|`&&`|从左到右
逻辑或OR|`\|\|`|从左到右|
条件|`?:`|从右到左
赋值|`= += -= *= /= %= >>= <<= &= ^= \|=`|从右到左
逗号|`,`|从左到右

PS: 和数学一样，可以用()改变表达式内的优先级

## [三.流程控制`if elseif else`](../../../README.md#第二课-运算符和流程控制)

### `if`

```cs
if (条件)   // 此处的条件，必须是一个bool值
{
    // 条件为真时进入
}
```

语法：

* 条件需要写在()中，
* 代码块用{}包含，而不需要用；表示结束

### `if else`

```cs
if (条件)
{
    // 条件为真时进入
}
else
{
    // 条件为假时进入
}
```

### `if elseif else`

```cs
if (条件1)
{
    //条件1为真时进入
}
else if (条件2)
{
    //条件1为假，但条件2为真
}
else
{
    //条件1，条件2都为假
}
```

PS:代码是从上向下判断的

注意点:

1. 理论上来讲可以有无数个`else if { }` 但是只能有一个`else { }`
2. 一个`if...else if...else...`是一组判断逻辑，从上至下，有任意一个条件成立，则之后的都不会进行判断，所以先后顺序很重要
3. `if...else if...else...`可以进行嵌套，理论上来讲也可以无限嵌套.
4. 在书写代码时，条件最好是同一类型的，而不要是不大相干的判断

### `Switch`

```cs
switch (变量)
{
    case 变量1:
        // 执行代码1
        break;
        
    case 变量2:
        // 执行代码2
        break;

    /* 可以有任意数量的 case 语句 */

    default: /* 可选的 */
        // 执行默认代码
        break;
}
```

### `Case`

C#中的关键字，一般与Switch配合使用，表示当case后面的变量与传入的变量相匹配时，跳入冒号后面的执行代码。每一个case后面的代码块必须有一个break,用以跳出该switch

### `Break`

C#中的关键字， 跳出当前代码块，此处的作用是，当匹配成功后，运行完代码就不再进行匹配，跳出该代码块。

### `Default`

C#中的关键字， 和Switch配套使用，非必须使用。表示当所有匹配都失败时，执行默认代码

### `循环`

C#中的循环有四种语法，分别是:
do…while循环，
while循环，
for循环，
foreach循环（foreach循环在后面讲解）

### `do...while循环`

```cs
do
{
    // 具体执行语句
} while (条件表达式);   // 注意这里要加上一个分号
```

do…while循环的含义是：先执行do后大括号中的语句，执行结束后，根据while中的条件表达式结果进行判断，如果条件为true，返回继续执行do中的语句；如果条件为false，接着执行下面的其它代码

### `While循环`

```cs
while (条件表达式)   // 这里不需要分号
{     
    // 具体执行语句
}
```

与do...while的区别是:

* while循环是先判断条件，再执行具体语句；
* 而do循环是先执行一次do中的语句，再判断条件。
* 还有一个小区别是do循环最后的while语句后需要有分号结尾，而while循环不需要分号。

### `for循环`

```cs
for (初始化语句; 条件表达式; 更新语句)
{
    // 执行语句
}
```

Tips:for非常适合循环一定次数的情况，代码会更简单，更清晰。而且可以进行随机访问。

### `循环的中断`

通常情况下我们需要条件表达式为false时才会退出循环，但是很多时候，一个循环需要更精细的控制，比如遇到特殊情况时如何应急退出。

C#提供了4种命令，可以精细化控制循环，适用于所有循环语法：

* `break;` 立即终止最近的循环
* `continue;` 结束当前这一次循环，继续执行下一次循环
* `return` 跳出循环以及包含该循环的方法（会在后面讲解方法时详解）
* `goto:`跳转到指定代码行，不建议使用

## [练习](../../../README.md#第二课-运算符和流程控制)

利用循环打印如下图形：

```
★
★★
★★★
★★★★
★★★★★
```

## [作业](../../../README.md#第二课-运算符和流程控制)

* 得到一个数字的阶乘的值：比如输入5 ，那么5的阶乘就是 `1 * 2 * 3 * 4 * 5`
* 输入3个数得到最大值
* 输出10以内的 偶数和, 奇数和
